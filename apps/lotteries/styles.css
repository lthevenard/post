/* apps/lotteries/styles.css */
/* App-scoped styling: light surface + site's blue/cyan identity. */

.lotteries-fullbleed{
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
  padding: 18px 16px 24px 16px;
}

/* Light surface, but still "belongs" to the site through shared variables */
.lotteries-surface{
  width: min(1400px, calc(100vw - 32px));
  margin: 0 auto;

  background: #f7fafc;
  color: var(--bg); /* deep blue from the site: #0f172a */
  border: 1px solid rgba(15,23,42,.10);
  border-radius: 16px;
  box-shadow: 0 12px 28px rgba(0,0,0,.18);
  overflow: hidden;
}

/* Typography: darker headings to match site's deep blue identity */
.lotteries-surface h1,
.lotteries-surface h2,
.lotteries-surface h3{
  color: var(--bg);
  letter-spacing: -0.02em;
}

.lotteries-surface h1{ font-size: 28px; margin: 0; }
.lotteries-surface h2{ font-size: 20px; }
.lotteries-surface p,
.lotteries-surface li,
.lotteries-surface label{ font-size: 15px; }

/* Header branding (logo + title) */
.lotteries-header{
  padding: 16px 18px 10px 18px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:flex-start;
}

.lotteries-brand{
  display:flex;
  gap:12px;
  align-items:center;
  min-width: 0;
}

/* Logo no header: usar a própria imagem como ícone (sem padding/tile) */
.lotteries-logo-tile{
  width: 72px;
  height: 72px;
  border-radius: 16px;

  background: transparent;
  border: none;
  box-shadow: none;

  display: block;
  flex: 0 0 auto;
  overflow: hidden;
}

.lotteries-logo{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
@media (max-width: 520px){
  .lotteries-logo-tile{
    width: 60px;
    height: 60px;
    border-radius: 14px;
  }
}

.lotteries-title{
  margin: 0;
  line-height: 1.15;
}

.lotteries-subtitle{
  margin: 8px 0 0 0;
  opacity: .85;
}

@media (max-width: 520px){
  .lotteries-logo-tile{
    width: 46px;
    height: 46px;
    border-radius: 12px;
  }
  .lotteries-logo{
    width: 38px;
    height: 38px;
  }
}


/* Layout */
.lotteries-grid{
  display:grid;
  grid-template-columns: 360px 1fr;
  border-top: 1px solid rgba(15,23,42,.10);
}

@media (max-width: 980px){
  .lotteries-grid{ grid-template-columns: 1fr; }
}

.lotteries-sidebar{
  background: #ffffff;
  border-right: 1px solid rgba(15,23,42,.10);
  padding: 16px 16px 18px 16px;
}

@media (max-width: 980px){
  .lotteries-sidebar{
    border-right: none;
    border-bottom: 1px solid rgba(15,23,42,.10);
  }
}

.lotteries-main{
  padding: 16px 18px 18px 18px;
}

/* Inputs */
.lotteries-surface input[type="text"]{
  width:100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(15,23,42,.20);
  background: #ffffff;
  color: var(--bg);
  outline: none;
}

.lotteries-surface input[type="text"]:focus{
  border-color: rgba(96,165,250,.75); /* derived from --link (#60a5fa) */
  box-shadow: 0 0 0 4px rgba(96,165,250,.20);
}

/* Range slider: keep it neutral; we'll style thumb subtly */
.lotteries-surface input[type="range"]{
  width:100%;
  height: 26px;
}

/* Error box tuned for light background */
#lotteries-error{
  background: rgba(239,68,68,.07);
}

/* "Back to Apps" small button-like link */
.lotteries-link-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;

  padding: 6px 10px;
  border-radius: 10px;

  border: 1px solid rgba(0, 17, 37, 0.75); /* --link */
  background: var(--bg);

  color: #ffffff;
  font-size: 13px;
  font-weight: 600;
  line-height: 1.1;
  text-decoration: none;
  box-shadow: none;
}

.lotteries-link-btn:hover{
  /* Lighter background */
  background: var(--link);
  border: 1px solid rgba(49, 145, 255, 0.75);
  box-shadow: 0 2px 3px rgba(15,23,42,.10);
  text-decoration: none;
}

.lotteries-link-btn:active{
  transform: translateY(1px);
  box-shadow: 0 1px 3px rgba(15,23,42,.12);
}


/* Primary CTA (Simulate): use site blue with subtle relief */
.lotteries-cta{
  width:100%;
  margin-top: 14px;
  padding: 12px 14px;

  border-radius: 12px;
  border: 1px solid rgba(15,23,42,.55);
  background: linear-gradient(180deg, rgba(15,23,42,1), rgba(11,18,32,1));

  color: #ffffff;
  font-weight: 750;
  font-size: 16px;
  cursor: pointer;

  box-shadow:
    0 6px 10px rgba(15,23,42,.14),
    inset 0 1px 0 rgba(255,255,255,.10);
}

.lotteries-cta:hover{
  filter: brightness(1.05);
  box-shadow:
    0 7px 12px rgba(15,23,42,.16),
    inset 0 1px 0 rgba(255,255,255,.12);
}

.lotteries-cta:active{
  transform: translateY(1px);
  box-shadow:
    0 4px 8px rgba(15,23,42,.14),
    inset 0 2px 0 rgba(0,0,0,.16);
}

/* Tabs: minimal, readable, active state only via text color */
.lotteries-tabs{
  display:flex;
  flex-wrap:wrap;
  gap: 14px;
  margin-bottom: 14px;

  border-bottom: 1px solid rgba(15,23,42,.10);
  padding-bottom: 10px;
}

.lotteries-tab{
  appearance: none;
  border: none;
  background: transparent;
  padding: 6px 2px;

  font-size: 15px;        /* bigger */
  font-weight: 650;
  color: rgba(15,23,42,.60); /* inactive: muted deep-blue */
  cursor: pointer;

  /* Hard reset to avoid inherited/glitchy shadows */
  box-shadow: none !important;
  text-shadow: none !important;
}

.lotteries-tab:hover{
  color: rgba(15,23,42,.85);
}

.lotteries-tab.is-active{
  color: var(--link);
  font-weight: 800;
}

/* Range slider with site-consistent fill color */
.lotteries-surface input[type="range"]:not(.lottery-slider){
  --fill: 50%;
  width:100%;
  height: 26px;
  background: transparent;
  cursor: pointer;
}

/* WebKit track */
.lotteries-surface input[type="range"]:not(.lottery-slider)::-webkit-slider-runnable-track{
  height: 8px;
  border-radius: 999px;
  background:
    linear-gradient(
      to right,
      var(--link) 0 var(--fill),
      rgba(15,23,42,.18) var(--fill) 100%
    );
}

/* WebKit thumb */
.lotteries-surface input[type="range"]:not(.lottery-slider)::-webkit-slider-thumb{
  -webkit-appearance: none;
  appearance: none;
  margin-top: -6px;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: #ffffff;
  border: 2px solid var(--link);
  box-shadow: 0 2px 6px rgba(15,23,42,.18);
}

/* Firefox track */
.lotteries-surface input[type="range"]:not(.lottery-slider)::-moz-range-track{
  height: 8px;
  border-radius: 999px;
  background: rgba(15,23,42,.18);
}

/* Firefox fill */
.lotteries-surface input[type="range"]:not(.lottery-slider)::-moz-range-progress{
  height: 8px;
  border-radius: 999px;
  background: var(--link);
}

/* Firefox thumb */
.lotteries-surface input[type="range"]:not(.lottery-slider)::-moz-range-thumb{
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: #ffffff;
  border: 2px solid var(--link);
  box-shadow: 0 2px 6px rgba(15,23,42,.18);
}

/* Lottery outputs layout */

.lottery-panel-title{
  font-size: 26px;
  margin: 2px 0 14px 0;
  line-height: 1.15;
  letter-spacing: -0.02em;
}

.lottery-card{
  background: #ffffff;
  border: 1px solid rgba(15,23,42,.12);
  border-radius: 14px;
  padding: 14px 16px;
  margin: 12px 0;
}

.lottery-card-title{
  font-size: 16px;
  font-weight: 850;
  margin: 0 0 10px 0;
}

.lottery-bullets{
  margin: 0;
  padding-left: 18px;
}

.lottery-bullets li{
  font-size: 16px;
  line-height: 1.45;
  margin: 6px 0;
}

.lottery-chart-block{
  margin: 14px 0;
}

.lotteries-svg{
  display:block;
  width:100%;
  height:auto;
}

@media (min-width: 1100px){
  .lotteries-main{
    padding-left: 22px;
    padding-right: 22px;
  }
}

/* Simulation slider */

.lottery-slider-wrap{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 18px;
  align-items: center;
}

.lottery-slider-col{
  display: flex;
  flex-direction: column;
}

.lottery-slider-scale{
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  opacity: .75;
  margin-top: 6px;
}

.lottery-slider{
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: linear-gradient(
    to right,
    var(--link) 0%,
    var(--link) var(--slider-pct, 0%),
    rgba(15,23,42,.20) var(--slider-pct, 0%),
    rgba(15,23,42,.20) 100%
  );
  border-radius: 999px;
  outline: none;
}

/* WebKit */
.lottery-slider::-webkit-slider-thumb{
  -webkit-appearance: none;
  width: 35px;
  height: 35px;
  border-radius: 999px;

  background: #ffffff;
  border: 2px solid var(--bg);

  box-shadow:
    0 4px 10px rgba(15,23,42,.22),
    inset 0 0 0 3px rgba(15,23,42,.06);

  cursor: pointer;
}

/* Firefox */
.lottery-slider::-moz-range-thumb{
  width: 35x;
  height: 35px;
  border-radius: 999px;

  background: #ffffff;
  border: 2px solid var(--bg);

  box-shadow:
    0 4px 10px rgba(15,23,42,.22),
    inset 0 0 0 3px rgba(15,23,42,.06);

  cursor: pointer;
}

.lottery-slider::-moz-range-track{
  background: transparent;
}

/* Selected value box (right side) */
.lottery-slider-value{
  min-width: 96px;
  text-align: center;
  font-size: 28px;
  font-weight: 850;
  color: #ffffff;
  padding: 10px 12px;
  border-radius: 14px;
  background: var(--bg);
  border: 1px solid rgba(15,23,42,.15);
  box-shadow: 0 1px 3px rgba(67, 70, 85, 0.18);
}

/* Simulation outcomes table (Comparisons tab) */

simfreq-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 10px;
}

@media (max-width: 900px){
  .simfreq-grid{
    grid-template-columns: 1fr;
  }
}

.simfreq-caption{
  font-size: 17px;
  font-weight: 250;
  opacity: .9;
  margin: 6px 0 6px 0;
  text-align: center;
  margin-top: 40px;
}

.simfreq-table{
  width: 100%;
  border-collapse: collapse;
  font-size: 15px;
}

.simfreq-table thead th{
  padding: 10px 10px;
  border-bottom: 2px solid rgba(15,23,42,.18);
  font-size: 12px;
  letter-spacing: .03em;
  text-transform: uppercase;
  opacity: .85;
}

.simfreq-table tbody tr{
  border-bottom: 1px solid rgba(15,23,42,.12);
}

.simfreq-table tbody td{
  padding: 10px 10px;
  vertical-align: top;
}

.simfreq-outcome{
  font-size: 14px;
  line-height: 1.35;
}

.simfreq-num{
  text-align: right;
  font-weight: 850;
  white-space: nowrap;
}

.simfreq-payoff-pos{
  color: #16a34a;
  font-weight: 900;
}

.simfreq-payoff-neg{
  color: #dc2626;
  font-weight: 900;
}

/* Animated bar charts (Comparisons tab) */

.simcharts-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 10px;
  margin-bottom: 8px;
}

@media (max-width: 900px){
  .simcharts-grid{ grid-template-columns: 1fr; }
}

.simchart{
  height: 190px;
  border: 1.5px solid rgba(15,23,42,.30);
  background: rgba(255,255,255,.25);
  border-radius: 12px;
  padding: 12px 12px 28px 12px;
  display: flex;
  gap: 20px;
  place-content: center;
  align-items: flex-end;
  overflow-x: hidden;
  overflow-y: hidden;
}

.simchart-bar{
  flex: 1 1 0;
  min-width: 44px;
  max-width: 120px;
  position: relative;
  height: 100%;
  border-radius: 12px;
  background: rgba(15,23,42,.10);
  border: 1px solid rgba(15,23,42,.10);
  display: flex;
  align-items: flex-end;
  justify-content: center;
}


.simchart-fill{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;

  height: calc(var(--obs, 0) * 1%);
  background: var(--link);
  border-radius: 10px;

  transition: height 220ms ease;
}

/* dashed marker for theoretical probability */
.simchart-bar::after{
  content: "";
  position: absolute;
  left: -2px;
  right: -2px;
  bottom: calc(var(--theory, 0) * 1%);
  border-top: 3px dashed var(--bg);
  opacity: .95;
  pointer-events: none;
}


.simchart-x{
  position: absolute;
  bottom: 6px;
  font-size: 12px;
  opacity: .9;
}

.simchart-legend{
  margin-top: 6px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  opacity: .8;
}

.simchart-dot{
  width: 18px;
  height: 0;
  border-top: 2px dashed rgba(15,23,42,.45);
  display: inline-block;
}

.simchart{
  padding-top: 20px;
  padding-bottom: 16px;
}

.lottery-explainer.is-collapsed p {
  display: none;
}

.lottery-explainer.is-collapsed {
  padding-bottom: 10px;
}

/* Clickable text toggle (used in Convergence explainer) */
.lotteries-toggle-link {
  font-size: 13px;
  font-weight: 700;
  color: var(--link);
  cursor: pointer;
  user-select: none;
}

.lotteries-toggle-link:hover {
  text-decoration: underline;
  opacity: 0.95;
}

/* Distribution bars: pointer + subtle hover */
.lotteries-dist-svg .distbar {
  cursor: help;
}
.lotteries-dist-svg .distbar:hover {
  opacity: 1;
}

/* Floating tooltip */
.lotteries-tooltip {
  position: fixed;
  z-index: 9999;
  max-width: 320px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(15, 23, 42, 0.18);
  background: var(--link);
  color: #ffffff;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.18);
  font-size: 10px;
  line-height: 1.25;
  pointer-events: none; /* important: does not steal hover */
  white-space: normal;
}

/* Lottery tab: collapsible Q&A line (no white box wrapper) */
.lottery-reveal{
  margin: 14px 0 10px 0;
  padding-top: 10px;
  border-top: 1px solid rgba(15,23,42,.16);
}

.lottery-reveal-head{
  display:flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 14px;
}

.lottery-reveal-title{
  margin: 0;
  font-size: 20px;
  font-weight: 800;
  color: rgba(15,23,42,.88);
  letter-spacing: -0.01em;
}

.lottery-reveal-content{
  margin-top: 10px;
}

/* collapsed hides only the content; header stays as a “line” */
.lottery-reveal.is-collapsed .lottery-reveal-content{
  display: none;
}

/* Convergence-like explainer: hide the whole body when collapsed */
.lottery-explainer.is-collapsed .lottery-explainer-body{
  display: none;
}

/* Simulation results table */

.simtable-wrap{
  margin-top: 8px;
}

.simtable{
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  border: 1px solid rgba(15,23,42,.12);
  background: #ffffff;
  border-radius: 12px;
  overflow: hidden;
}

.simtable thead th{
  text-align: right;
  padding: 10px 10px;
  font-size: 12px;
  letter-spacing: .03em;
  text-transform: uppercase;
  opacity: .85;
  border-bottom: 2px solid rgba(15,23,42,.18);
  background: rgba(15,23,42,.04);
}

.simtable thead th:first-child{
  text-align: right;
}

.simtable tbody td{
  padding: 9px 10px;
  border-bottom: 1px solid rgba(15,23,42,.10);
  text-align: right;
  vertical-align: top;
}

.simtable tbody tr:nth-child(even){
  background: rgba(15,23,42,.03);
}

.simtable .num{
  font-variant-numeric: tabular-nums;
}

/* Money coloring (requested) */
.money.is-pos{ color: #16a34a; font-weight: 850; }
.money.is-neg{ color: #dc2626; font-weight: 850; }
.money.is-zero{ color: rgba(15,23,42,.75); font-weight: 750; }

/* Pager */
.simtable-pager{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
  margin-top: 10px;
}

.simtable-pageinfo{
  font-size: 13px;
  opacity: .85;
}

.simtable-btn{
  appearance:none;
  border: 1px solid rgba(15,23,42,.18);
  background: #ffffff;
  color: var(--bg);
  padding: 7px 10px;
  border-radius: 10px;
  font-weight: 750;
  cursor: pointer;
  box-shadow: 0 1px 2px rgba(15,23,42,.06);
}

.simtable-btn:hover{
  border-color: rgba(96,165,250,.55);
  box-shadow: 0 2px 6px rgba(15,23,42,.10);
}

.simtable-btn:disabled{
  opacity: .45;
  cursor: not-allowed;
}

.simtable-pager{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
  margin-top: 10px;
  flex-wrap: wrap;
}

.simtable-pager-left,
.simtable-pager-right{
  display:flex;
  gap: 8px;
  align-items:center;
}

.simtable-pages{
  display:flex;
  gap: 6px;
  align-items:center;
  justify-content: center;
  flex: 1 1 auto;
}

.simtable-dots{
  opacity: .6;
  padding: 0 4px;
  user-select: none;
}

.simtable-page{
  appearance:none;
  border: 1px solid rgba(15,23,42,.18);
  background: #ffffff;
  color: var(--bg);
  padding: 6px 9px;
  border-radius: 10px;
  font-weight: 800;
  font-size: 13px;
  cursor: pointer;
  font-variant-numeric: tabular-nums;
}

.simtable-page:hover{
  border-color: rgba(96,165,250,.55);
  box-shadow: 0 2px 6px rgba(15,23,42,.10);
}

.simtable-page.is-active{
  background: var(--bg);
  color: #ffffff;
  border-color: rgba(15,23,42,.55);
}

.simtable-pageinfo{
  margin-top: 6px;
  font-size: 13px;
  opacity: .8;
  text-align: center;
}

/* More vertical spacing around collapsible sections */
.lottery-reveal{
  margin: 22px 0 0 0;        /* space before each collapsible block */
  padding-top: 14px;         /* keeps the top separator visually separated */
}

/* Give extra air between the 2nd collapsible and seed card */
.lottery-sep{
  margin: 26px 0 18px 0;
  border-top: 1px solid rgba(15,23,42,.16);
}

/* Seed card: a bit more breathing room at the end */
.lottery-sep + .lottery-card{
  margin-top: 10; /* sep already provides top spacing */
}